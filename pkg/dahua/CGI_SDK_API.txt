11. Audio

11.1 Audio MIME type

MIME                                                                   Description
Audio/PCM
Audio/ADPCM
Audio/G.711A
Audio/G.711Mu
Audio/G.726
Audio/G.729

                                                                  92
Audio/MPEG2
Audio/AMR
Audio/AAC



11.2 Post Audio

URL Syntax       http://<ip>/cgi-bin/audio.cgi?action=postAudio&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment          paramValue as below table.
Response         OK or ERROR


ParamName                                         ParamValue type                   Description
httptype                                          string                            singlepart:HTTP content is a continuous flow of audio
                                                                                    packets
                                                                                    multipart:HTTP           content      type         is
                                                                                    multipart/x-mixed-replace,and each audio packet ends
                                                                                    with a boundary string
channel                                           integer                           The audio channel



11.2.1 Example for singlepart

The RUL of transmit a singlepart、channel 1 audio stream(encoded with G.711 A-law) is:
http: //<ip>/cgi-bin/audio.cgi?action=postAudio&httptype=singlepart&channel=1


example:
POST /cgi-bin/audio.cgi?action=postAudio&httptype=singlepart&channel=1 HTTP/1.1
Content-Type: Audio/G.711A
Content-Length:9999999


<Audio data>
<Audio data>



11.2.2 Example for multipart

The RUL of transmit a multipart、channel 1 audio stream(encoded with G.711 A-law) is:
http: //<ip>/cgi-bin/audio.cgi?action=postAudio&httptype= multipart &channel=1


example:
POST /cgi-bin/audio.cgi?action=postAudio&httptype= multipart &channel=1 HTTP/1.1
 Content-Type: multipart/x-mixed-replace; boundary=<boundary>
--<boundary>
Content-Type: Audio/G.711A

                                                                    93
Content-Length: 800


<Audio data>
--<boundary>



11.3 Get Audio

URL Syntax       http://<ip>/cgi-bin/audio.cgi?action=getAudio&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment          paramValue as below table.
Response         OK or ERROR




ParamName                                           ParamValue type                    Description
httptype                                            string                             singlepart:HTTP content is a continuous flow of audio
                                                                                       packets
                                                                                       multipart:HTTP           content        type         is
                                                                                       multipart/x-mixed-replace,and each audio packet ends
                                                                                       with a boundary string
channel                                             integer                            The audio channel




11.3.1 Example for singlepart

The RUL of Request a singlepart、channel 1 audio stream(encoded with G.711 A-law) is:
http: //<ip>/cgi-bin/audio.cgi?action=getAudio&httptype=singlepart&channel=1


If the request was successful, the server returns a continuous flow of audio packets.The content type is only set at the beginning of the
connection.
Return:
HTTP Code: 200 OK
Content-Type: Audio/G.711A
Body:
<Audio data>
<Audio data>



11.3.2 Example for multipart

The RUL of Request a multipart、channel 1 audio stream(encoded with G.711 A-law) is:
http: //<ip>/cgi-bin/audio.cgi?action=getAudio&httptype=multipart&channel=1


If the request was successful, the server returns a continuous flow of audio packets. The content type is “multipart/x-mixed-replace” and each
audio packet ends with a boundary string.
                                                                      94
Return:
HTTP Code: 200 OK
Content-Type: multipart/x-mixed-replace; boundary=<boundary>
--<boundary>
Content-Type: Audio/G.711A
Content-Length: 800


<Audio data>
--<boundary>




11.4 Audio Input

11.4.1 getCollect

URL Syntax            http://<ip>/cgi-bin/devAudioInput.cgi?action=getCollect
Comment               Get Audio input channel number.
                      Below response means there are 2 audio input channels.
Response              result=2




11.5 Audio Output

11.5.1 getCollect

URL Syntax            http://<ip>/cgi-bin/devAudioOutput.cgi?action=getCollect
Comment               Get Audio output channel number.
                      Below response means there are 2 audio output channels.
Response              result=2
